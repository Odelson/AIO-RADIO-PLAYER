!function($,version){function mmd(src){var h="";function escape(t){return new Option(t).innerHTML}function inlineEscape(s){return escape(s).replace(/!\[([^\]]*)]\(([^(]+)\)/g,'<img alt="$1" src="$2">').replace(/\[([^\]]+)]\(([^(]+?)\)/g,"$1".link("$2")).replace(/`([^`]+)`/g,"<code>$1</code>").replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>").replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")}return src.replace(/^\s+|\r|\s+$/g,"").replace(/\t/g,"    ").split(/\n\n+/).forEach(function(b,f,R){f=b[0],h+=(R={"*":[/\n\* /,"<ul><li>","</li></ul>"],1:[/\n[1-9]\d*\.? /,"<ol><li>","</li></ol>"]," ":[/\n    /,"<pre><code>","</pre></code>","\n"],">":[/\n> /,"<blockquote>","</blockquote>","\n"]}[f])?R[1]+("\n"+b).split(R[0]).slice(1).map(R[3]?escape:inlineEscape).join(R[3]||"</li>\n<li>")+R[2]:"#"==f?"<h"+(f=b.indexOf(" "))+">"+inlineEscape(b.slice(f+1))+"</h"+f+">":"<"==f?b:"<p>"+inlineEscape(b)+"</p>"}),h}$(document).ready(function(){$('input[allowreset="true"], textarea[allowreset="true"]').each(function(){var elm=$(this);$(elm).wrap('<div class="input-append"></div>');var a=$('<div class="append resetico" title="Click to reset field to default value"><a href="#"><i class="fa fa-refresh"></i></a></div>');a.on("click",function(){return $(elm).val($(elm).attr("placeholder")),!1}),$(elm).after(a)}),$(".dropdown-toggle").on("click",function(){var menu=$(this).next(".dropdown-menu");return $(menu).hasClass("active")?$(menu).removeClass("active").stop(!0,!0).fadeOut(150):($(menu).addClass("active").stop(!0,!0).fadeIn(250),$(document).click(function(){$(menu).removeClass("active").stop(!0,!0).fadeOut(150),$(document).unbind("click")})),!1});var update_check=function(e){var o=document.cookie.indexOf(e+"="),n=o+e.length+1;if(!o&&e!=document.cookie.substring(0,e.length))return null;if(-1==o)return null;var t=document.cookie.indexOf(";",n);return-1==t&&(t=document.cookie.length),decodeURI(document.cookie.substring(n,t))}("aio_radio.update");null==update_check||"undefined"==update_check?$.getJSON("https://prahec.com/envato/update?action=check&itemid="+itemID+"&method=jsonp&callback=?",function(data){(null!=version||null!=data.version||parseFloat(data.version)<=parseFloat(version))&&(function(e,o,n,t,i,u){var c=new Date;c.setTime(c.getTime()),n=n&&1e3*n*60*60*24;var r=new Date(c.getTime()+n);document.cookie=e+"="+encodeURI(o)+(n?";expires="+r.toGMTString():"")+(t?";path="+t:"")+(i?";domain="+i:"")+(u?";secure":"")}("aio_radio.update",data.version,21600),parseFloat(data.version)>parseFloat(version)&&$("#tab-updates").append(' <span class="label label-warning">'+data.version+"</span>"))}):parseFloat(update_check)>parseFloat(version)&&$("#tab-updates").append(' <span class="label label-warning">'+update_check+"</span>"),$.getJSON("api.php?action=checkWarnings").done(function(r){$.each(r,function(k,v){if("warning"===v.type&&$(".container.main").prepend('<div class="alert alert-warning alert-icon"><i class="fa fa-warning"></i><div class="content">'+mmd(v.message)+"</div></div>"),"info"===v.type&&$(".container.main").prepend('<div class="alert alert-info alert-icon"><i class="fa fa-info-circle"></i><div class="content">'+mmd(v.message)+"</div></div>"),"finish-upgrade"===v.type&&$(".container.main").prepend('<div class="alert alert-warning alert-icon"><i class="fa fa-warning"></i><div class="content">Running post update script, please do not interrupt this process...\t\t\t<pre class="update-text">Loading, please wait...</pre><iframe id="update" style="border: 0; width:0; height:0;" width="0" height="0" src="iframe.update.php?post-update" border="0"></iframe></div></div>'),"log-warning"===v.type&&null==window.location.href.match(/\?s\=logs/)){var out=$('<div class="alert alert-warning alert-icon"><i class="fa fa-warning"></i><div class="content">Player may be experiencing some issues which are being logged into a file. You can <a href="'+window.location.pathname+'?s=logs">view <i class="fa fa-external-link"></i></a> or <a class="delete" href="#">delete <i class="fa fa-times"></i></a> the file.</div></div>');out.find("a.delete").on("click",function(){if(!confirm("Are you sure you wish to delete the file?"))return!1;out.find(".content").text("Attempting to delete errors.log file..."),$.getJSON("./api.php?action=deleteLog").done(function(r){r.success?out.remove():out.find(".content").text("Unable to remove log file, please remove file manually!")})}),$(".container.main").prepend(out)}})})})}(jQuery,version);